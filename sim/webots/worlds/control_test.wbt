#VRML_SIM R2019a utf8
WorldInfo {
  basicTimeStep 64
  optimalThreadCount 3
}
Viewpoint {
  orientation -0.24228412063969135 0.9496521356261347 0.19864346499840577 2.7791606869238676
  position 4.147198130706046 5.993074961531279 -11.511231397225542
}
RectangleArena {
  floorSize 10 5
}
DEF checkpoint Obstacle {
  translation 4.729999999999989 0.025 0
}
Background {
  skyColor [
    0.7294117647058823 0.7411764705882353 0.7137254901960784
    0 0 0
    0 0 0
  ]
}
DEF robot Robot {
  translation -3.459999999999999 0.32000000000000006 0
  children [
    Group {
    }
    DEF BODY_SHAPE Shape {
      appearance DEF BODY_APPEARANCE PBRAppearance {
        roughness 1
        metalness 0
      }
      geometry Box {
        size 0.3 0.1 0.2
      }
    }
    TouchSensor {
      translation -0.11999999999999995 0 0
      name "collision_detector"
      boundingObject Box {
        size 0.6 0.15 0.21
      }
    }
    DEF HIP0 HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 0 1
        anchor 0.08 0 0.12
      }
      device [
        RotationalMotor {
          name "hip0"
          maxVelocity 1
          minPosition -1.5708
          maxPosition 1.5708
          maxTorque 100
          sound ""
        }
        PositionSensor {
          name "hip0_p"
        }
      ]
      endPoint Solid {
        translation 0.08 0 0.12
        rotation 0 0 1 0
        children [
          DEF HIP_TRANS Transform {
            rotation 1 0 0 1.5708
            children [
              DEF HIP_SHAPE Shape {
                appearance DEF JOINT_APPEARANCE PBRAppearance {
                  baseColor 1 0.7 0
                  roughness 0.6
                  metalness 0
                }
                geometry Cylinder {
                  height 0.04
                  radius 0.04
                }
              }
            ]
          }
          DEF FEMUR_TRANS Transform {
            translation 0 -0.07 0
            children [
              Shape {
                appearance USE BODY_APPEARANCE
                geometry Box {
                  size 0.05 0.14 0.03
                }
              }
            ]
          }
          DEF KNEE_TRANS Transform {
            translation 0 -0.14 0
            rotation 1 0 0 1.5708
            children [
              DEF KNEE_SHAPE Shape {
                appearance DEF JOINT_APPEARANCE PBRAppearance {
                  baseColor 1 0.7 0
                  roughness 0.6
                  metalness 0
                }
                geometry Cylinder {
                  height 0.04
                  radius 0.04
                }
              }
            ]
          }
          DEF KNEE0 HingeJoint {
            jointParameters HingeJointParameters {
              axis 0 0 1
              anchor 0 -0.14 0
            }
            device [
              RotationalMotor {
                name "knee0"
                maxVelocity 1
                minPosition -1.5708
                maxPosition 1.5708
                maxTorque 100
                sound ""
              }
              PositionSensor {
                name "knee0_p"
              }
            ]
            endPoint Solid {
              translation 0 -0.14 0
              rotation 0 0 1 0.7
              children [
                DEF KNEE0SPRING HingeJoint {
                  jointParameters HingeJointParameters {
                    axis 0 0 1
                    springConstant 25
                    dampingConstant 0.1
                  }
                  endPoint Solid {
                    rotation 0 0 1 0
                    children [
                      DEF TIBIA_TRANS Transform {
                        translation 0 -0.07 0
                        children [
                          Shape {
                            appearance USE BODY_APPEARANCE
                            geometry Box {
                              size 0.05 0.14 0.03
                            }
                          }
                        ]
                      }
                      DEF TOUCH0 TouchSensor {
                        translation 0 -0.14 0
                        rotation 1 0 0 1.5708
                        children [
                          DEF FOOT_SHAPE Shape {
                            appearance DEF FOOT_APPEARANCE PBRAppearance {
                              baseColor 1 0 0
                              roughness 0.6
                              metalness 0
                            }
                            geometry Cylinder {
                              height 0.04
                              radius 0.04
                            }
                          }
                        ]
                        name "touch0"
                        boundingObject USE FOOT_SHAPE
                        physics DEF FOOT_PHYSICS Physics {
                          density -1
                          mass 0.01
                        }
                        type "force-3d"
                      }
                    ]
                    boundingObject DEF DUMMY_BOX Box {
                      size 0.01 0.01 0.01
                    }
                    physics DEF TIBIA_PHYSICS Physics {
                      density -1
                      mass 0.2
                    }
                  }
                }
              ]
              boundingObject Box {
                size 0.001 0.001 0.001
              }
              physics USE FOOT_PHYSICS
            }
          }
        ]
        name "hip0"
        boundingObject USE KNEE_TRANS
        physics DEF FEMUR_PHYSICS Physics {
          density -1
          mass 0.201062
          centerOfMass [
            0 -0.07 0
          ]
          inertiaMatrix [
            0.001092 0.000107 0.001146
            0 0 0
          ]
        }
      }
    }
    DEF HIP2 HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 0 1
        anchor 0.08 0 -0.12
      }
      device [
        RotationalMotor {
          name "hip2"
          maxVelocity 1
          minPosition -1.5708
          maxPosition 1.5708
          maxTorque 100
          sound ""
        }
        PositionSensor {
          name "hip2_p"
        }
      ]
      endPoint Solid {
        translation 0.08 0 -0.12
        rotation 0 0 1 0
        children [
          USE HIP_TRANS
          USE FEMUR_TRANS
          USE KNEE_TRANS
          DEF KNEE2 HingeJoint {
            jointParameters HingeJointParameters {
              axis 0 0 1
              anchor 0 -0.14 0
            }
            device [
              RotationalMotor {
                name "knee2"
                maxVelocity 1
                minPosition -1.5708
                maxPosition 1.5708
                maxTorque 100
                sound ""
              }
              PositionSensor {
                name "knee2_p"
              }
            ]
            endPoint Solid {
              translation 0 -0.14 0
              rotation 0 0 1 0.7
              children [
                DEF KNEE2SPRING HingeJoint {
                  jointParameters HingeJointParameters {
                    axis 0 0 1
                    springConstant 25
                    dampingConstant 0.1
                  }
                  endPoint Solid {
                    rotation 0 0 1 0
                    children [
                      USE TIBIA_TRANS
                      DEF TOUCH2 TouchSensor {
                        translation 0 -0.14 0
                        rotation 1 0 0 1.5708
                        children [
                          USE FOOT_SHAPE
                        ]
                        name "touch2"
                        boundingObject USE FOOT_SHAPE
                        physics USE FOOT_PHYSICS
                        type "force-3d"
                      }
                    ]
                    boundingObject USE DUMMY_BOX
                    physics USE TIBIA_PHYSICS
                  }
                }
              ]
              boundingObject Box {
                size 0.001 0.001 0.001
              }
              physics USE FOOT_PHYSICS
            }
          }
        ]
        name "hip2"
        boundingObject USE KNEE_TRANS
        physics USE FEMUR_PHYSICS
      }
    }
    DEF PELVIS HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 1 0
        anchor -0.18 0 0
      }
      device [
        RotationalMotor {
          name "spine"
          maxVelocity 1
          minPosition -0.6
          maxPosition 0.6
          maxTorque 100
          sound ""
        }
        PositionSensor {
          name "spine_p"
        }
      ]
      endPoint Solid {
        translation -0.18 0 0
        children [
          DEF PELVIS_CYL_SHAPE Shape {
            appearance DEF JOINT_APPEARANCE PBRAppearance {
              baseColor 1 0.7 0
              roughness 0.6
              metalness 0
            }
            geometry Cylinder {
              height 0.11
              radius 0.06
            }
          }
          DEF PELVIS_BOX_SHAPE Transform {
            translation -0.13 0 0
            children [
              Shape {
                appearance USE BODY_APPEARANCE
                geometry Box {
                  size 0.2 0.1 0.2
                }
              }
            ]
          }
          DEF HIP1 HingeJoint {
            jointParameters HingeJointParameters {
              axis 0 0 1
              anchor -0.16 0 0.12
            }
            device [
              RotationalMotor {
                name "hip1"
                maxVelocity 1
                minPosition -1.5708
                maxPosition 1.5708
                maxTorque 100
                sound ""
              }
              PositionSensor {
                name "hip1_p"
              }
            ]
            endPoint Solid {
              translation -0.16 0 0.12
              rotation 0 0 1 0
              children [
                USE HIP_TRANS
                USE FEMUR_TRANS
                USE KNEE_TRANS
                DEF KNEE1 HingeJoint {
                  jointParameters HingeJointParameters {
                    axis 0 0 1
                    anchor 0 -0.14 0
                  }
                  device [
                    RotationalMotor {
                      name "knee1"
                      maxVelocity 1
                      minPosition -1.5708
                      maxPosition 1.5708
                      maxTorque 100
                      sound ""
                    }
                    PositionSensor {
                      name "knee1_p"
                    }
                  ]
                  endPoint Solid {
                    translation 0 -0.14 0
                    rotation 0 0 1 0.7
                    children [
                      DEF KNEE1SPRING HingeJoint {
                        jointParameters HingeJointParameters {
                          axis 0 0 1
                          springConstant 25
                          dampingConstant 0.1
                        }
                        endPoint Solid {
                          rotation 0 0 1 0
                          children [
                            USE TIBIA_TRANS
                            DEF TOUCH1 TouchSensor {
                              translation 0 -0.14 0
                              rotation 1 0 0 1.5708
                              children [
                                USE FOOT_SHAPE
                              ]
                              name "touch1"
                              boundingObject USE FOOT_SHAPE
                              physics USE FOOT_PHYSICS
                              type "force-3d"
                            }
                          ]
                          boundingObject USE DUMMY_BOX
                          physics USE TIBIA_PHYSICS
                        }
                      }
                    ]
                    boundingObject Box {
                      size 0.001 0.001 0.001
                    }
                    physics USE FOOT_PHYSICS
                  }
                }
              ]
              name "hip1"
              boundingObject USE KNEE_TRANS
              physics USE FEMUR_PHYSICS
            }
          }
          DEF HIP3 HingeJoint {
            jointParameters HingeJointParameters {
              axis 0 0 1
              anchor -0.16 0 -0.12
            }
            device [
              RotationalMotor {
                name "hip3"
                maxVelocity 1
                minPosition -1.5708
                maxPosition 1.5708
                maxTorque 100
                sound ""
              }
              PositionSensor {
                name "hip3_p"
              }
            ]
            endPoint Solid {
              translation -0.16 0 -0.12
              rotation 0 0 1 0
              children [
                USE HIP_TRANS
                USE FEMUR_TRANS
                USE KNEE_TRANS
                DEF KNEE3 HingeJoint {
                  jointParameters HingeJointParameters {
                    axis 0 0 1
                    anchor 0 -0.14 0
                  }
                  device [
                    RotationalMotor {
                      name "knee3"
                      maxVelocity 1
                      minPosition -1.5708
                      maxPosition 1.5708
                      maxTorque 100
                      sound ""
                    }
                    PositionSensor {
                      name "knee3_p"
                    }
                  ]
                  endPoint Solid {
                    translation 0 -0.14 0
                    rotation 0 0 1 0.7
                    children [
                      DEF KNEE3SPRING HingeJoint {
                        jointParameters HingeJointParameters {
                          axis 0 0 1
                          springConstant 25
                          dampingConstant 0.1
                        }
                        endPoint Solid {
                          rotation 0 0 1 0
                          children [
                            USE TIBIA_TRANS
                            DEF TOUCH3 TouchSensor {
                              translation 0 -0.14 0
                              rotation 1 0 0 1.5708
                              children [
                                USE FOOT_SHAPE
                              ]
                              name "touch3"
                              boundingObject USE FOOT_SHAPE
                              physics USE FOOT_PHYSICS
                              type "force-3d"
                            }
                          ]
                          boundingObject USE DUMMY_BOX
                          physics USE TIBIA_PHYSICS
                        }
                      }
                    ]
                    boundingObject Box {
                      size 0.001 0.001 0.001
                    }
                    physics USE FOOT_PHYSICS
                  }
                }
              ]
              name "hip3"
              boundingObject USE KNEE_TRANS
              physics USE FEMUR_PHYSICS
            }
          }
        ]
        name "spine"
        boundingObject USE PELVIS_BOX_SHAPE
        physics Physics {
          density -1
          mass 4
          centerOfMass [
            -0.13 0 0
          ]
          inertiaMatrix [
            0.016667 0.026667 0.016667
            0 0 0
          ]
        }
      }
    }
  ]
  boundingObject USE BODY_SHAPE
  physics Physics {
    density 700
  }
  controller "RL_controller"
  controllerArgs "None"
  supervisor TRUE
  battery [
    5000000, 5000000, 0
  ]
}
